@echo off
REM ==========================
REM 1. Открой Планировщик заданий:
REM Нажми Win + S и в поиске введи "Планировщик заданий" (Task Scheduler).
REM Открой приложение.
REM ==========================

REM ==========================
REM 2. Создание новой задачи:
REM В Планировщике заданий нажми "Создать задачу...".
REM На вкладке Общие:
REM Укажи название задачи, например, Update Equipment Status.
REM От имени: выбери Текущий пользователь.
REM Установи флажок "Выполнять с наивысшими правами" (чтобы задача выполнялась даже при заблокированном компьютере).
REM ==========================

REM ==========================
REM 3. Настройка триггера:
REM Перейди на вкладку Триггеры и нажми "Создать...".
REM В типе триггера выбери "По расписанию".
REM Установи:
REM Ежедневно, с интервалом 1 день.
REM Установи время на 15:00 (или любое другое).
REM Нажми ОК.
REM ==========================

REM ==========================
REM 4. Настройка действия:
REM Перейди на вкладку Действия и нажми "Создать...".
REM В поле Программа/скрипт укажи путь к твоему .bat файлу, например:
REM C:\path\to\your\update_equipment_status.bat
REM Нажми ОК.
REM ==========================

REM ==========================
REM Запускаем Django команду для обновления статуса оборудования
REM Укажите путь к Python и проекту:

set PYTHON_PATH=C:\path\to\your\venv\Scripts\python.exe
set PROJECT_PATH=C:\path\to\your\project
set MANAGE_PY=%PROJECT_PATH%\manage.py

REM Запускаем команду Django

%PYTHON_PATH% %MANAGE_PY% update_equipment_status


REM Завершаем выполнение
exit
