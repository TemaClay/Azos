/**
 * Универсальная функция-fetcher для SWR/React Query и других мест:
 * 1. Обёртывает стандартный fetch, выполняя запрос по переданному URL.
 * 2. Автоматически проверяет HTTP-статус ответа: если res.ok === false, кидает ошибку.
 * 3. Преобразует ответ в JSON и возвращает распаршенные данные.
 * 
 * Благодаря этому:
 * - Избегается дублирования кода проверки res.ok + res.json() в каждом запросе.
 * - Можно централизованно обрабатывать ошибки и, при необходимости, добавлять
 *   заголовки (авторизации, Content-Type) или логику ретраев в одном месте.
 * - Код становится чище и проще поддерживается.
 */

export async function fetcher(url: string) {
    const res = await fetch(url);
    if (!res.ok) throw new Error('Ошибка при загрузке');
    return res.json();
  }
  